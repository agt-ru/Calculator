[{"D:\\prod\\calc\\src\\index.js":"1","D:\\prod\\calc\\src\\reportWebVitals.js":"2","D:\\prod\\calc\\src\\App.js":"3","D:\\prod\\calc\\src\\Components\\Calculator.jsx":"4","D:\\prod\\calc\\src\\Components\\Button.jsx":"5","D:\\prod\\calc\\src\\Components\\Input.jsx":"6"},{"size":500,"mtime":499162500000,"results":"7","hashOfConfig":"8"},{"size":362,"mtime":499162500000,"results":"9","hashOfConfig":"8"},{"size":165,"mtime":1606244545597,"results":"10","hashOfConfig":"8"},{"size":4344,"mtime":1606385518621,"results":"11","hashOfConfig":"8"},{"size":387,"mtime":1606299432827,"results":"12","hashOfConfig":"8"},{"size":384,"mtime":1606318567427,"results":"13","hashOfConfig":"8"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"16"},"1hv85p2",{"filePath":"17","messages":"18","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"19"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"24"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"27","messages":"28","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\prod\\calc\\src\\index.js",[],["29","30"],"D:\\prod\\calc\\src\\reportWebVitals.js",[],["31","32"],"D:\\prod\\calc\\src\\App.js",[],"D:\\prod\\calc\\src\\Components\\Calculator.jsx",["33","34"],"import React, { Component } from \"react\";\r\nimport Button from \"./Button\";\r\nimport Input from \"./Input\";\r\nimport \"../Styles/Calculator.css\";\r\n\r\nconst MAX_DIGITS = 12;\r\nconst MAX_DIGITS_WHOLE = 27;\r\n\r\nexport default class Calculator extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleButtonClick = this.handleButtonClick.bind(this);\r\n    this.state = {\r\n      operand: '0',\r\n      mathExpr: \"\",\r\n      showResult: true,\r\n    };\r\n    this.currOperator = \"\";\r\n    this.result = 0;\r\n    this.calculated = false;\r\n    this.fraction = false\r\n  }\r\n\r\n  shortenNum(num) {\r\n    let numStr = num.toString();\r\n    let [int, fraction] = numStr.split(\".\");\r\n    let resultStr = \"\",\r\n      result;\r\n    if (int.length >= MAX_DIGITS - 1 || numStr.search(\"e\") !== -1) {\r\n      result = parseFloat(num).toExponential(5);\r\n    } else if (int.length < MAX_DIGITS - 1 && fraction) {\r\n      resultStr += int + \".\" + fraction.slice(0, MAX_DIGITS - int.length - 2);\r\n      result = parseFloat(resultStr);\r\n    } else {\r\n      result = num;\r\n    }\r\n    return result;\r\n  }\r\n\r\n  handleButtonClick(e, value) {\r\n    let { operand, mathExpr, showResult } = this.state;\r\n\r\n    if (value === \"AC\") {\r\n      operand = '0';\r\n      this.result = 0;\r\n      mathExpr = \"\";\r\n      this.currOperator = \"\";\r\n      showResult = true;\r\n      this.fraction = false;\r\n      this.calculated = false;\r\n    }\r\n\r\n    if (value === \"+/-\") operand = `${-parseFloat(operand)}`;\r\n    else if (/[-/+\\u204E%]/.test(value)) {\r\n      if (value === \"\\u204E\") value = \"*\";\r\n      if (value === '%') { \r\n        operand = this.result * parseFloat(operand) / 100;\r\n        value = this.currOperator;\r\n      }\r\n      if (this.calculated) {\r\n        this.calculated = false;\r\n        mathExpr = `${this.result} ${value}`;\r\n      } else if (!showResult || mathExpr === \"\") {\r\n        if (mathExpr) mathExpr += \" \";\r\n        mathExpr += `${operand} ${value}`;\r\n        this.result = this.shortenNum(\r\n          this.currOperator\r\n            ? eval(this.result + this.currOperator + operand)\r\n            : operand\r\n        );\r\n        showResult = true;\r\n      }\r\n      mathExpr = mathExpr.slice(0, mathExpr.length - 1) + value;\r\n      this.currOperator = value;\r\n      this.fraction = false;\r\n    }\r\n\r\n    if (value === \"=\") {\r\n      this.fraction = false;\r\n      this.calculated = true;\r\n      mathExpr = \"\";\r\n      this.result = this.shortenNum(\r\n        this.currOperator\r\n          ? eval(this.result + this.currOperator + operand)\r\n          : operand\r\n      );\r\n      showResult = true;\r\n    }\r\n\r\n    if(value === '.' && !showResult) {\r\n      this.fraction = true;\r\n      operand += '.';\r\n    }\r\n\r\n    if (/[0-9]/.test(value)) {\r\n      if (showResult) {\r\n        operand = '0';\r\n        showResult = false;\r\n      }\r\n      if(this.fraction && operand.indexOf('.') === -1) {\r\n        operand += '.';\r\n      }\r\n      operand = operand === '0' ? value : operand + value;\r\n      operand = operand.slice(0, MAX_DIGITS);\r\n    }\r\n\r\n    // slice if need be to fit digits in the upper input field\r\n    const minSliceId = Math.max(mathExpr.length - MAX_DIGITS_WHOLE, 0);\r\n    const sliceFirst = minSliceId > 0;\r\n    const sliceSecond = !/ [0-9]/.test(\r\n      mathExpr[minSliceId - 1] + mathExpr[minSliceId]\r\n    );\r\n    if (sliceFirst) mathExpr = mathExpr.slice(minSliceId);\r\n    if (sliceFirst && sliceSecond) {\r\n      const finSliceId = Math.max(mathExpr.search(/ [0-9]/), 0);\r\n      mathExpr = mathExpr.slice(finSliceId);\r\n    }\r\n\r\n    this.setState({\r\n      operand: operand,\r\n      mathExpr: mathExpr,\r\n      showResult: showResult,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const buttons = [\r\n      \"AC\",\r\n      \"+/-\",\r\n      \"%\",\r\n      \"/\",\r\n      \"7\",\r\n      \"8\",\r\n      \"9\",\r\n      \"\\u204E\",\r\n      \"4\",\r\n      \"5\",\r\n      \"6\",\r\n      \"-\",\r\n      \"1\",\r\n      \"2\",\r\n      \"3\",\r\n      \"+\",\r\n      \"0\",\r\n      \".\",\r\n      \"=\",\r\n    ];\r\n    return (\r\n      <div className=\"calculator\">\r\n        <Input\r\n          operand={this.state.operand}\r\n          result={this.result}\r\n          mathExpr={this.state.mathExpr}\r\n          showResult={this.state.showResult}\r\n        />\r\n        <div className=\"buttons\">\r\n          {buttons.map((value) => (\r\n            <Button value={value} handleClick={this.handleButtonClick} />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","D:\\prod\\calc\\src\\Components\\Button.jsx",[],"D:\\prod\\calc\\src\\Components\\Input.jsx",[],{"ruleId":"35","replacedBy":"36"},{"ruleId":"37","replacedBy":"38"},{"ruleId":"35","replacedBy":"39"},{"ruleId":"37","replacedBy":"40"},{"ruleId":"41","severity":1,"message":"42","line":68,"column":15,"nodeType":"43","messageId":"44","endLine":68,"endColumn":19},{"ruleId":"41","severity":1,"message":"42","line":84,"column":13,"nodeType":"43","messageId":"44","endLine":84,"endColumn":17},"no-native-reassign",["45"],"no-negated-in-lhs",["46"],["45"],["46"],"no-eval","eval can be harmful.","CallExpression","unexpected","no-global-assign","no-unsafe-negation"]